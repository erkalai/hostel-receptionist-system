<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Responsive Registration</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>

	<div class="container mt-5">
		<div class="row justify-content-center">
			<div class="col-lg-6 col-md-8">
				<div class="card shadow-lg">
					<div class="card-header text-center bg-primary text-white">
						<h2>Registration</h2>
					</div>
					<div class="card-body">
						<div th:if="${param.success}">
							<div class="alert alert-success alert-dismissible fade show"
								role="alert">
								Registration successful!
								<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
							</div>
						</div>
						<div th:if="${error}" class="alert alert-danger">
							<p th:text="${error}"></p>
						</div>
						<form method="post" th:action="@{/register}" th:object="${user}"
							class="needs-validation" novalidate>
							<div class="form-group mb-3">
								<label for="firstName" class="form-label">First Name</label> <input
									type="text" class="form-control" id="firstName"
									th:field="*{firstName}" placeholder="Enter first name" required>
								<div class="invalid-feedback">Please enter your first
									name.</div>
							</div>
							<div class="form-group mb-3">
								<label for="lastName" class="form-label">Last Name</label> <input
									type="text" class="form-control" id="lastName"
									th:field="*{lastName}" placeholder="Enter last name" required>
								<div class="invalid-feedback">Please enter your last name.</div>
							</div>
							<div class="form-group mb-3">
								<label for="email" class="form-label">Email</label> <input
									type="email" class="form-control" id="email"
									th:field="*{email}" placeholder="Enter email" required>
								<div class="invalid-feedback">Please enter a valid email
									address.</div>
							</div>
							<div class="form-group mb-3">
								<label for="password" class="form-label">Password</label> <input
									type="password" class="form-control" id="password"
									th:field="*{password}" placeholder="Enter password" required>
								<div class="invalid-feedback">Please enter your password.</div>
							</div>
							<div class="form-group mb-3">
								<label for="role" class="form-label">Role</label> <select
									class="form-select" id="role" th:field="*{roleName}" required>
									<option value="" disabled selected>Select a role</option>
									<option th:each="role : ${roles}" th:value="${role}"
										th:text="${#strings.capitalize(role)}"></option>
								</select>
								<div class="invalid-feedback">Please select a role.</div>
							</div>
							<div class="d-flex justify-content-between">
								<button class="btn btn-primary" type="submit">Register</button>
								<button class="btn btn-secondary" type="reset">Reset</button>
							</div>
							<div class="mt-3 text-center">
								<span>Already registered? <a th:href="@{/login}"
									class="text-primary">Login here</a></span>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		// Bootstrap validation
		(function() {
			'use strict';
			const forms = document.querySelectorAll('.needs-validation');
			Array.from(forms).forEach(function(form) {
				form.addEventListener('submit', function(event) {
					if (!form.checkValidity()) {
						event.preventDefault();
						event.stopPropagation();
					}
					form.classList.add('was-validated');
				}, false);
			});
		})();
	</script>
</body>
</html>
